# visualizer/agent.py

import time
import os

def generate_room_description(asset_paths: list[str]) -> str:
    """
    –°–∏–º—É–ª–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É –ò–ò-–∞–≥–µ–Ω—Ç–∞ –ø–æ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–æ–º–Ω–∞—Ç—ã.

    –í–º–µ—Å—Ç–æ —Ä–µ–∞–ª—å–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏, —ç—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
    –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –∞—Å—Å–µ—Ç–æ–≤.

    Args:
        asset_paths: –°–ø–∏—Å–æ–∫ –ø—É—Ç–µ–π –∫ —Ñ–∞–π–ª–∞–º –∞—Å—Å–µ—Ç–æ–≤.

    Returns:
        –°—Ç—Ä–æ–∫–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ Markdown —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.
    """
    print("ü§ñ –ê–≥–µ–Ω—Ç –Ω–∞—á–∞–ª —Ä–∞–±–æ—Ç—É...")
    
    # 1. –°–∏–º—É–ª—è—Ü–∏—è –∞–Ω–∞–ª–∏–∑–∞ –∞—Å—Å–µ—Ç–æ–≤
    print("   - –ê–Ω–∞–ª–∏–∑ –∞—Å—Å–µ—Ç–æ–≤...")
    time.sleep(1)
    asset_names = [os.path.basename(p) for p in asset_paths]
    if not asset_names:
        return "## –û—à–∏–±–∫–∞\n\n–í –ø–∞–ø–∫–µ `assets` –Ω–µ –Ω–∞–π–¥–µ–Ω—ã —Ñ–∞–π–ª—ã –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏."

    # 2. –°–∏–º—É–ª—è—Ü–∏—è –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ —Å—Ü–µ–Ω—ã
    print("   - –ö–æ–º–ø–æ–Ω–æ–≤–∫–∞ 3D-—Å—Ü–µ–Ω—ã...")
    time.sleep(1)

    # 3. –°–∏–º—É–ª—è—Ü–∏—è –≤—ã–º—ã—à–ª–µ–Ω–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ –Ω–∞ –º–æ–¥–µ–ª—å –∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
    print("   - –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –≤ –Ω–µ–π—Ä–æ—Å–µ—Ç—å (—Å–∏–º—É–ª—è—Ü–∏—è)...")
    time.sleep(3)
    print("   - –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –∏ —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥...")
    
    # 4. –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Ç–æ–≥–æ–≤–æ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è
    description = f"""
# –†–µ–∑—É–ª—å—Ç–∞—Ç –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–æ–º–Ω–∞—Ç—ã

## –°—Ç–∞—Ç—É—Å
**–ó–∞–≤–µ—Ä—à–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ**

## 1. –í—Ö–æ–¥–Ω—ã–µ –∞—Å—Å–µ—Ç—ã:
"""
    for name in asset_names:
        description += f"- `{name}`\n"
    
    description += """
## 2. –û–ø–∏—Å–∞–Ω–∏–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:

–°–æ–∑–¥–∞–Ω–∞ —Ñ–æ—Ç–æ—Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π —Å–ø–∞–ª—å–Ω–∏. 

"""
    # –î–æ–±–∞–≤–ª—è–µ–º –¥–µ—Ç–∞–ª–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ "–Ω–∞–π–¥–µ–Ω–Ω—ã—Ö" –∞—Å—Å–µ—Ç–æ–≤
    for name in asset_names:
        if 'wallpaper' in name.lower():
            description += f"–°—Ç–µ–Ω—ã –∫–æ–º–Ω–∞—Ç—ã –æ–∫–ª–µ–µ–Ω—ã –æ–±–æ—è–º–∏ **{name}**, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–∑–¥–∞—é—Ç –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–æ–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ.\n"
        elif 'floor' in name.lower():
            description += f"–ù–∞ –ø–æ–ª—É —É–ª–æ–∂–µ–Ω –º–∞—Ç–µ—Ä–∏–∞–ª **{name}**, –µ–≥–æ —Ç–µ–∫—Å—Ç—É—Ä–∞ —Ö–æ—Ä–æ—à–æ –≤–∏–¥–Ω–∞ –∏ –æ—Ç—Ä–∞–∂–∞–µ—Ç —Å–≤–µ—Ç.\n"
        elif 'bed' in name.lower():
            description += f"–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–º —ç–ª–µ–º–µ–Ω—Ç–æ–º –∫–æ–º–Ω–∞—Ç—ã —è–≤–ª—è–µ—Ç—Å—è –∫—Ä–æ–≤–∞—Ç—å **{name}**, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω–∞—è –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ —Å—Ü–µ–Ω—ã.\n"
            
    description += "\n–û—Å–≤–µ—â–µ–Ω–∏–µ –≤ —Å—Ü–µ–Ω–µ –º—è–≥–∫–æ–µ, –¥–Ω–µ–≤–Ω–æ–µ, –ø–∞–¥–∞–µ—Ç –∏–∑ –Ω–µ–≤–∏–¥–∏–º–æ–≥–æ –æ–∫–Ω–∞ —Å–ª–µ–≤–∞, —Å–æ–∑–¥–∞–≤–∞—è —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ —Ç–µ–Ω–∏ –∏ –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞—è –æ–±—ä–µ–º –º–µ–±–µ–ª–∏ –∏ —Ç–µ–∫—Å—Ç—É—Ä—É –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤."

    print("‚úîÔ∏è –ê–≥–µ–Ω—Ç –∑–∞–≤–µ—Ä—à–∏–ª —Ä–∞–±–æ—Ç—É.")
    return description

